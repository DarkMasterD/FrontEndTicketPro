@model FrontEndTicketPro.Models.Admin.UsuarioExternoViewModel
@{
    ViewData["Title"] = "Crear / Editar Usuario Externo";
}

@if (TempData["mensaje"] != null)
{
    <div class="alert alert-info text-center">@TempData["mensaje"]</div>
}

<div class="container mt-5 mb-5 bg-white p-5 rounded shadow">
    <h3 class="text-center fw-bold mb-4">Crear / Editar Usuario</h3>

    <form asp-action="GuardarExterno" asp-controller="Admin" method="post">
        <input type="hidden" asp-for="IdUsuario" />

        @Html.ValidationSummary(true, "", new { @class = "text-danger mb-3 text-center" })

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="Nombre" class="form-label">
                    <i class="bi bi-person-fill me-1"></i>Nombre
                </label>
                <input asp-for="Nombre" class="form-control" />
                <span asp-validation-for="Nombre" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="Apellido" class="form-label">
                    <i class="bi bi-person-fill me-1"></i>Apellido
                </label>
                <input asp-for="Apellido" class="form-control" />
                <span asp-validation-for="Apellido" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="Usuario" class="form-label">
                    <i class="bi bi-person-badge-fill me-1"></i>Usuario
                </label>
                <input asp-for="Usuario" class="form-control" />
                <span asp-validation-for="Usuario" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="Empresa" class="form-label">
                    <i class="bi bi-building me-1"></i>Empresa
                </label>
                <input asp-for="Empresa" class="form-control" />
                <span asp-validation-for="Empresa" class="text-danger"></span>
            </div>
        </div>

         <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="Email" class="form-label">
                    <i class="bi bi-envelope-at-fill me-1"></i>Correo Electrónico
                </label>
                <input asp-for="Email" type="email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>

            <div class="col-md-6">
                @if (!Model.IdUsuario.HasValue)
                {
                    <label asp-for="Contrasena" class="form-label">
                        <i class="bi bi-shield-lock me-1"></i>Contraseña
                    </label>
                    <input asp-for="Contrasena" type="password" class="form-control" />
                    <span asp-validation-for="Contrasena" class="text-danger"></span>
                }
                else
                {
                    <label class="form-label">
                        <i class="bi bi-person-badge me-1"></i>Tipo de Usuario
                    </label>
                    <input class="form-control" value="Usuario externo" disabled />
                    <input type="hidden" asp-for="TipoUsuario" value="E" />
                }
            </div>
        </div>


        <div class="text-center mt-4">
        @{
            var textoBoton = Model.IdUsuario.HasValue ? "Actualizar" : "Guardar";
        }
        <a asp-action="Usuarios" class="btn btn-outline-dark px-4 me-2">Cancelar</a>
        <button type="submit"
                class="btn px-4 text-light fw-bold"
                style="background: #8FD344; transition: all 0.3s ease;"
                onmouseover="this.style.background='#7CC82F'"
                onmouseout="this.style.background='#8FD344'">
            @textoBoton
        </button>
        </div>

    </form>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
